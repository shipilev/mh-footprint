$ ~/Install/jdk10-epsilon/bin/java -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC -jar target/mh-footprint.jar 2>&1 | tee jdk10-epsilon-output.txt

WARNING: Make sure you are running with a non-moving collector like Epsilon GC, otherwise footprint differences are unreliable.

=== On creation: 

# WARNING: Unable to get Instrumentation. Dynamic Attach failed: null. You may add this JAR as -javaagent manually.
WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.openjdk.jol.vm.sa.ServiceabilityAgentSupport (file:/home/shade/benchmarks/mh-footprint/target/mh-footprint.jar) to field sun.management.RuntimeImpl.jvm
WARNING: Please consider reporting this to the maintainers of org.openjdk.jol.vm.sa.ServiceabilityAgentSupport
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
# WARNING: Unable to attach Serviceability Agent. You can try again with escalated privileges. Two options: a) use -Djol.tryWithSudo=true to try with sudo; b) echo 0 | sudo tee /proc/sys/kernel/yama/ptrace_scope
Single MH:
java.lang.invoke.DirectMethodHandle@d70c109d footprint:
     COUNT       AVG       SUM   DESCRIPTION
      3692        50    185584   [B
       135        39      5296   [I
         1        16        16   [J
       427        32     13680   [Ljava.lang.Class;
         2       144       288   [Ljava.lang.ClassValue$Entry;
       422        80     33856   [Ljava.lang.Object;
         1        24        24   [Ljava.lang.String;
        27        40      1080   [Ljava.lang.invoke.BoundMethodHandle$SpeciesData;
        27        52      1408   [Ljava.lang.invoke.LambdaForm$BasicType;
        84        50      4272   [Ljava.lang.invoke.LambdaForm$Name;
        27        52      1408   [Ljava.lang.invoke.LambdaForm$NamedFunction;
        62        37      2312   [Ljava.lang.invoke.MethodHandle;
       124        64      7936   [Ljava.lang.ref.SoftReference;
         8        24       192   [Ljava.lang.reflect.Constructor;
        99        55      5504   [Ljava.lang.reflect.Field;
        25        54      1360   [Ljava.lang.reflect.Method;
         2        24        48   [Ljava.lang.reflect.TypeVariable;
         7        16       112   [Ljava.security.Principal;
         1        16        16   [Ljava.security.cert.Certificate;
       342       101     34608   [Ljava.util.HashMap$Node;
         1        64        64   [Ljava.util.Hashtable$Entry;
         3        80       240   [Ljava.util.WeakHashMap$Entry;
        27       217      5872   [Ljava.util.concurrent.ConcurrentHashMap$Node;
         2        20        40   [Lsun.reflect.generics.tree.ClassTypeSignature;
         3        24        72   [Lsun.reflect.generics.tree.FieldTypeSignature;
         2        24        48   [Lsun.reflect.generics.tree.FormalTypeParameter;
         6        17       104   [Lsun.reflect.generics.tree.TypeArgument;
        19        16       304   com.sun.proxy.jdk.proxy1.$Proxy2
         1        32        32   java.io.File
         1        24        24   java.io.File$PathStatus
         1        32        32   java.io.FileDescriptor
         1        40        40   java.io.FilePermission
         1        24        24   java.io.FilePermissionCollection
         1        32        32   java.io.RandomAccessFile
       333       104     34632   java.lang.Class
        46        24      1104   java.lang.Class$AnnotationData
       105        56      5880   java.lang.Class$ReflectionData
         1        40        40   java.lang.ClassLoader$NativeLibrary
         2        64       128   java.lang.ClassValue$ClassValueMap
         3        32        96   java.lang.ClassValue$Entry
         1        16        16   java.lang.ClassValue$Identity
         1        24        24   java.lang.ClassValue$Version
         1        16        16   java.lang.Integer
        61        56      3416   java.lang.Module
         2        40        80   java.lang.ModuleLayer
        10        24       240   java.lang.NamedPackage
       349        16      5584   java.lang.Object
         5        32       160   java.lang.Package
         1        40        40   java.lang.Package$VersionInfo
         1        32        32   java.lang.Runtime$Version
         7        24       168   java.lang.RuntimePermission
      3533        24     84792   java.lang.String
         1        24        24   java.lang.annotation.RetentionPolicy
        27        40      1080   java.lang.invoke.BoundMethodHandle$SpeciesData
         1        32        32   java.lang.invoke.BoundMethodHandle$Species_L
        38        32      1216   java.lang.invoke.DirectMethodHandle
       230        40      9200   java.lang.invoke.DirectMethodHandle$Accessor
         8        24       192   java.lang.invoke.Invokers
        84        48      4032   java.lang.invoke.LambdaForm
         4        32       128   java.lang.invoke.LambdaForm$BasicType
        13        32       416   java.lang.invoke.LambdaForm$Kind
       276        32      8832   java.lang.invoke.LambdaForm$Name
       323        32     10336   java.lang.invoke.LambdaForm$NamedFunction
         7        56       392   java.lang.invoke.LambdaFormEditor$Transform
       418        48     20064   java.lang.invoke.MemberName
         2        24        48   java.lang.invoke.MethodHandleImpl$Intrinsic
         1        40        40   java.lang.invoke.MethodHandleImpl$IntrinsicMethodHandle
       184        40      7360   java.lang.invoke.MethodType
        62        56      3472   java.lang.invoke.MethodTypeForm
         1        24        24   java.lang.invoke.StringConcatFactory$Stringifiers$StringifierMost
         2        40        80   java.lang.module.Configuration
        75        64      4800   java.lang.module.ModuleDescriptor
       493        24     11832   java.lang.module.ModuleDescriptor$Exports
        15        24       360   java.lang.module.ModuleDescriptor$Opens
        68        24      1632   java.lang.module.ModuleDescriptor$Provides
       232        32      7424   java.lang.module.ModuleDescriptor$Requires
         2        24        48   java.lang.module.ModuleDescriptor$Requires$Modifier
         1        32        32   java.lang.module.ModuleDescriptor$Version
        56        24      1344   java.lang.module.ResolvedModule
         3        32        96   java.lang.ref.ReferenceQueue
         4        16        64   java.lang.ref.ReferenceQueue$Lock
         1        32        32   java.lang.ref.ReferenceQueue$Null
       192        40      7680   java.lang.ref.SoftReference
        14        80      1120   java.lang.reflect.Constructor
      1114        72     80208   java.lang.reflect.Field
       197        88     17336   java.lang.reflect.Method
        75        80      6000   java.net.URI
         5        64       320   java.net.URL
         1        16        16   java.nio.charset.CodingErrorAction
         4        32       128   java.security.BasicPermissionCollection
         7        40       280   java.security.CodeSource
         4        32       128   java.security.Permissions
         7        40       280   java.security.ProtectionDomain
         7        16       112   java.security.ProtectionDomain$Key
         4        16        64   java.security.SecureClassLoader$CodeSourceKey
         1        24        24   java.util.ArrayDeque
        12        24       288   java.util.ArrayList
         1        16        16   java.util.Collections$EmptyList
         1        24        24   java.util.Collections$EmptyMap
         1        16        16   java.util.Collections$EmptySet
         1        32        32   java.util.Collections$UnmodifiableMap
         1        24        24   java.util.Collections$UnmodifiableRandomAccessList
         1        16        16   java.util.Collections$UnmodifiableSet
       339        48     16272   java.util.HashMap
        58        16       928   java.util.HashMap$KeySet
      1669        32     53408   java.util.HashMap$Node
         2        16        32   java.util.HashMap$Values
       228        16      3648   java.util.HashSet
         1        48        48   java.util.Hashtable
         1        16        16   java.util.ImmutableCollections$List0
        48        24      1152   java.util.ImmutableCollections$List1
         8        24       192   java.util.ImmutableCollections$List2
        14        24       336   java.util.ImmutableCollections$ListN
         2        32        64   java.util.ImmutableCollections$MapN
         1        16        16   java.util.ImmutableCollections$Set0
       147        16      2352   java.util.ImmutableCollections$Set1
        67        24      1608   java.util.ImmutableCollections$Set2
       148        24      3552   java.util.ImmutableCollections$SetN
        39        56      2184   java.util.LinkedHashMap
        25        40      1000   java.util.LinkedHashMap$Entry
         1        16        16   java.util.Optional
         1        32        32   java.util.Stack
         6        32       192   java.util.Vector
         1        48        48   java.util.WeakHashMap
         3        40       120   java.util.WeakHashMap$Entry
        32        64      2048   java.util.concurrent.ConcurrentHashMap
       515        32     16480   java.util.concurrent.ConcurrentHashMap$Node
         3        16        48   java.util.concurrent.ConcurrentHashMap$ValuesView
        50        24      1200   java.util.concurrent.CopyOnWriteArrayList
         1        16        16   java.util.concurrent.atomic.AtomicBoolean
         1        16        16   java.util.jar.Attributes
         6        24       144   java.util.jar.Attributes$Name
         1        72        72   java.util.jar.JarFile
         1        96        96   java.util.jar.JarFile$JarFileEntry
         1        24        24   java.util.jar.Manifest
         2        48        96   java.util.zip.Inflater
         2        24        48   java.util.zip.ZStreamRef
         1        32        32   java.util.zip.ZipCoder
         1        64        64   java.util.zip.ZipFile$Source
         1        24        24   java.util.zip.ZipFile$Source$Key
         1        56        56   java.util.zip.ZipFile$ZipFileInflaterInputStream
         1        48        48   java.util.zip.ZipFile$ZipFileInputStream
         2        16        32   jdk.internal.loader.ClassLoaderValue
         1       112       112   jdk.internal.loader.ClassLoaders$AppClassLoader
         1       104       104   jdk.internal.loader.ClassLoaders$BootClassLoader
         1       104       104   jdk.internal.loader.ClassLoaders$PlatformClassLoader
         1        40        40   jdk.internal.loader.URLClassPath
         1        48        48   jdk.internal.loader.URLClassPath$JarLoader
         1        24        24   jdk.internal.module.ModuleHashes
        75        56      4200   jdk.internal.module.ModuleReferenceImpl
         1        16        16   jdk.internal.module.ModuleResolution
         1        16        16   jdk.internal.module.ModuleTarget
         2        16        32   jdk.internal.module.ServicesCatalog
       123        24      2952   jdk.internal.module.ServicesCatalog$ServiceProvider
         1        24        24   jdk.internal.module.SystemModuleFinder
        75        24      1800   jdk.internal.module.SystemModuleFinder$1
        64        24      1536   jdk.internal.module.SystemModuleFinder$2
        56        24      1344   jdk.internal.module.SystemModuleFinder$ImageModuleReader
         5        16        80   jdk.internal.reflect.DelegatingConstructorAccessorImpl
         2        16        32   jdk.internal.reflect.DelegatingMethodAccessorImpl
         5        24       120   jdk.internal.reflect.NativeConstructorAccessorImpl
         2        24        48   jdk.internal.reflect.NativeMethodAccessorImpl
        58        32      1856   jdk.internal.reflect.UnsafeObjectFieldAccessorImpl
        90        32      2880   jdk.internal.reflect.UnsafeQualifiedObjectFieldAccessorImpl
         2        40        80   jdk.internal.reflect.UnsafeQualifiedStaticLongFieldAccessorImpl
         3        40       120   jdk.internal.reflect.UnsafeQualifiedStaticObjectFieldAccessorImpl
        26        32       832   jdk.internal.reflect.UnsafeStaticObjectFieldAccessorImpl
         4        48       192   sun.invoke.util.Wrapper
         1        16        16   sun.net.www.protocol.file.Handler
         1        16        16   sun.net.www.protocol.jar.Handler
         1        16        16   sun.net.www.protocol.jrt.Handler
         1        24        24   sun.nio.cs.UTF_8
         1        56        56   sun.nio.cs.UTF_8$Encoder
         2        32        64   sun.nio.fs.LinuxFileSystem
         2        16        32   sun.nio.fs.LinuxFileSystemProvider
         1       128       128   sun.nio.fs.UnixFileAttributes
         1        16        16   sun.nio.fs.UnixFileAttributes$UnixAsBasicFileAttributes
         4        32       128   sun.nio.fs.UnixPath
        19        24       456   sun.reflect.annotation.AnnotationInvocationHandler
         1        32        32   sun.reflect.annotation.AnnotationType
         2        24        48   sun.reflect.generics.factory.CoreReflectionFactory
         3        32        96   sun.reflect.generics.reflectiveObjects.TypeVariableImpl
         2        32        64   sun.reflect.generics.repository.ClassRepository
         2        24        48   sun.reflect.generics.scope.ClassScope
         2        24        48   sun.reflect.generics.tree.ClassSignature
         6        16        96   sun.reflect.generics.tree.ClassTypeSignature
         3        24        72   sun.reflect.generics.tree.FormalTypeParameter
         6        24       144   sun.reflect.generics.tree.SimpleClassTypeSignature
         1        16        16   sun.reflect.generics.tree.TypeVariableSignature
     18422              779088   (total)


Difference between MHs pointing to same method:
 footprint:
     COUNT       AVG       SUM   DESCRIPTION
        45        36      1624   [B
         2        20        40   [Ljava.lang.Class;
         1        32        32   [Ljava.lang.annotation.RetentionPolicy;
         7        41       288   [Ljava.lang.reflect.Field;
         1        24        24   [Ljava.lang.reflect.Method;
         1        48        48   [Ljava.util.HashMap$Node;
         5       104       520   java.lang.Class
         8        24       192   java.lang.Class$AnnotationData
         7        56       392   java.lang.Class$ReflectionData
        45        24      1080   java.lang.String
         2        24        48   java.lang.annotation.RetentionPolicy
         1        32        32   java.lang.invoke.DirectMethodHandle
         7        40       280   java.lang.ref.SoftReference
        52        72      3744   java.lang.reflect.Field
         3        88       264   java.lang.reflect.Method
         1        48        48   java.util.HashMap
         3        32        96   java.util.HashMap$Node
         1        16        16   jdk.internal.reflect.DelegatingMethodAccessorImpl
         1        24        24   jdk.internal.reflect.NativeMethodAccessorImpl
         4        32       128   jdk.internal.reflect.UnsafeObjectFieldAccessorImpl
         5        32       160   jdk.internal.reflect.UnsafeQualifiedObjectFieldAccessorImpl
       202                9080   (total)


Difference between MHs pointing to diff methods:
 footprint:
     COUNT       AVG       SUM   DESCRIPTION
        45        36      1624   [B
         2        20        40   [Ljava.lang.Class;
         1        32        32   [Ljava.lang.annotation.RetentionPolicy;
         7        41       288   [Ljava.lang.reflect.Field;
         1        24        24   [Ljava.lang.reflect.Method;
         1        48        48   [Ljava.util.HashMap$Node;
         5       104       520   java.lang.Class
         8        24       192   java.lang.Class$AnnotationData
         7        56       392   java.lang.Class$ReflectionData
        45        24      1080   java.lang.String
         2        24        48   java.lang.annotation.RetentionPolicy
         1        32        32   java.lang.invoke.DirectMethodHandle
         1        48        48   java.lang.invoke.MemberName
         7        40       280   java.lang.ref.SoftReference
        52        72      3744   java.lang.reflect.Field
         3        88       264   java.lang.reflect.Method
         1        48        48   java.util.HashMap
         3        32        96   java.util.HashMap$Node
         1        16        16   jdk.internal.reflect.DelegatingMethodAccessorImpl
         1        24        24   jdk.internal.reflect.NativeMethodAccessorImpl
         4        32       128   jdk.internal.reflect.UnsafeObjectFieldAccessorImpl
         5        32       160   jdk.internal.reflect.UnsafeQualifiedObjectFieldAccessorImpl
       203                9128   (total)


=== After first invoke: 

Single MH:
java.lang.invoke.DirectMethodHandle@d70c109d footprint:
     COUNT       AVG       SUM   DESCRIPTION
      3743        50    187536   [B
       134        39      5280   [I
         1        16        16   [J
       430        31     13744   [Ljava.lang.Class;
         2       144       288   [Ljava.lang.ClassValue$Entry;
       425        79     33928   [Ljava.lang.Object;
         1        24        24   [Ljava.lang.String;
         1        32        32   [Ljava.lang.annotation.RetentionPolicy;
        27        40      1080   [Ljava.lang.invoke.BoundMethodHandle$SpeciesData;
        27        52      1408   [Ljava.lang.invoke.LambdaForm$BasicType;
        85        50      4312   [Ljava.lang.invoke.LambdaForm$Name;
        27        52      1408   [Ljava.lang.invoke.LambdaForm$NamedFunction;
        63        37      2344   [Ljava.lang.invoke.MethodHandle;
       124        64      7936   [Ljava.lang.ref.SoftReference;
         8        24       192   [Ljava.lang.reflect.Constructor;
       106        54      5792   [Ljava.lang.reflect.Field;
        26        53      1384   [Ljava.lang.reflect.Method;
         2        24        48   [Ljava.lang.reflect.TypeVariable;
         7        16       112   [Ljava.security.Principal;
         1        16        16   [Ljava.security.cert.Certificate;
       343       101     34656   [Ljava.util.HashMap$Node;
         1        64        64   [Ljava.util.Hashtable$Entry;
         3        80       240   [Ljava.util.WeakHashMap$Entry;
        27       217      5872   [Ljava.util.concurrent.ConcurrentHashMap$Node;
         2        20        40   [Lsun.reflect.generics.tree.ClassTypeSignature;
         3        24        72   [Lsun.reflect.generics.tree.FieldTypeSignature;
         2        24        48   [Lsun.reflect.generics.tree.FormalTypeParameter;
         6        17       104   [Lsun.reflect.generics.tree.TypeArgument;
        19        16       304   com.sun.proxy.jdk.proxy1.$Proxy2
         1        32        32   java.io.File
         1        24        24   java.io.File$PathStatus
         1        32        32   java.io.FileDescriptor
         1        40        40   java.io.FilePermission
         1        24        24   java.io.FilePermissionCollection
         1        32        32   java.io.RandomAccessFile
       339       104     35256   java.lang.Class
        54        24      1296   java.lang.Class$AnnotationData
       112        56      6272   java.lang.Class$ReflectionData
         1        40        40   java.lang.ClassLoader$NativeLibrary
         2        64       128   java.lang.ClassValue$ClassValueMap
         3        32        96   java.lang.ClassValue$Entry
         1        16        16   java.lang.ClassValue$Identity
         1        24        24   java.lang.ClassValue$Version
         1        16        16   java.lang.Integer
        61        56      3416   java.lang.Module
         2        40        80   java.lang.ModuleLayer
        10        24       240   java.lang.NamedPackage
       352        16      5632   java.lang.Object
         5        32       160   java.lang.Package
         1        40        40   java.lang.Package$VersionInfo
         1        32        32   java.lang.Runtime$Version
         7        24       168   java.lang.RuntimePermission
      3584        24     86016   java.lang.String
         3        24        72   java.lang.annotation.RetentionPolicy
        27        40      1080   java.lang.invoke.BoundMethodHandle$SpeciesData
         1        32        32   java.lang.invoke.BoundMethodHandle$Species_L
        39        32      1248   java.lang.invoke.DirectMethodHandle
       230        40      9200   java.lang.invoke.DirectMethodHandle$Accessor
         9        24       216   java.lang.invoke.Invokers
        85        48      4080   java.lang.invoke.LambdaForm
         4        32       128   java.lang.invoke.LambdaForm$BasicType
        13        32       416   java.lang.invoke.LambdaForm$Kind
       279        32      8928   java.lang.invoke.LambdaForm$Name
       324        32     10368   java.lang.invoke.LambdaForm$NamedFunction
         7        56       392   java.lang.invoke.LambdaFormEditor$Transform
       420        48     20160   java.lang.invoke.MemberName
         2        24        48   java.lang.invoke.MethodHandleImpl$Intrinsic
         1        40        40   java.lang.invoke.MethodHandleImpl$IntrinsicMethodHandle
       185        40      7400   java.lang.invoke.MethodType
        62        56      3472   java.lang.invoke.MethodTypeForm
         1        24        24   java.lang.invoke.StringConcatFactory$Stringifiers$StringifierMost
         2        40        80   java.lang.module.Configuration
        75        64      4800   java.lang.module.ModuleDescriptor
       493        24     11832   java.lang.module.ModuleDescriptor$Exports
        15        24       360   java.lang.module.ModuleDescriptor$Opens
        68        24      1632   java.lang.module.ModuleDescriptor$Provides
       232        32      7424   java.lang.module.ModuleDescriptor$Requires
         2        24        48   java.lang.module.ModuleDescriptor$Requires$Modifier
         1        32        32   java.lang.module.ModuleDescriptor$Version
        56        24      1344   java.lang.module.ResolvedModule
         3        32        96   java.lang.ref.ReferenceQueue
         4        16        64   java.lang.ref.ReferenceQueue$Lock
         1        32        32   java.lang.ref.ReferenceQueue$Null
       201        40      8040   java.lang.ref.SoftReference
        14        80      1120   java.lang.reflect.Constructor
      1166        72     83952   java.lang.reflect.Field
       200        88     17600   java.lang.reflect.Method
        75        80      6000   java.net.URI
         5        64       320   java.net.URL
         1        16        16   java.nio.charset.CodingErrorAction
         4        32       128   java.security.BasicPermissionCollection
         7        40       280   java.security.CodeSource
         4        32       128   java.security.Permissions
         7        40       280   java.security.ProtectionDomain
         7        16       112   java.security.ProtectionDomain$Key
         4        16        64   java.security.SecureClassLoader$CodeSourceKey
         1        24        24   java.util.ArrayDeque
        12        24       288   java.util.ArrayList
         1        16        16   java.util.Collections$EmptyList
         1        24        24   java.util.Collections$EmptyMap
         1        16        16   java.util.Collections$EmptySet
         1        32        32   java.util.Collections$UnmodifiableMap
         1        24        24   java.util.Collections$UnmodifiableRandomAccessList
         1        16        16   java.util.Collections$UnmodifiableSet
       340        48     16320   java.util.HashMap
        58        16       928   java.util.HashMap$KeySet
      1672        32     53504   java.util.HashMap$Node
         2        16        32   java.util.HashMap$Values
       228        16      3648   java.util.HashSet
         1        48        48   java.util.Hashtable
         1        16        16   java.util.ImmutableCollections$List0
        48        24      1152   java.util.ImmutableCollections$List1
         8        24       192   java.util.ImmutableCollections$List2
        14        24       336   java.util.ImmutableCollections$ListN
         2        32        64   java.util.ImmutableCollections$MapN
         1        16        16   java.util.ImmutableCollections$Set0
       147        16      2352   java.util.ImmutableCollections$Set1
        67        24      1608   java.util.ImmutableCollections$Set2
       148        24      3552   java.util.ImmutableCollections$SetN
        39        56      2184   java.util.LinkedHashMap
        25        40      1000   java.util.LinkedHashMap$Entry
         1        16        16   java.util.Optional
         1        32        32   java.util.Stack
         6        32       192   java.util.Vector
         1        48        48   java.util.WeakHashMap
         3        40       120   java.util.WeakHashMap$Entry
        32        64      2048   java.util.concurrent.ConcurrentHashMap
       518        32     16576   java.util.concurrent.ConcurrentHashMap$Node
         3        16        48   java.util.concurrent.ConcurrentHashMap$ValuesView
        50        24      1200   java.util.concurrent.CopyOnWriteArrayList
         1        16        16   java.util.concurrent.atomic.AtomicBoolean
         1        16        16   java.util.jar.Attributes
         6        24       144   java.util.jar.Attributes$Name
         1        72        72   java.util.jar.JarFile
         1        96        96   java.util.jar.JarFile$JarFileEntry
         1        24        24   java.util.jar.Manifest
         2        48        96   java.util.zip.Inflater
         2        24        48   java.util.zip.ZStreamRef
         1        32        32   java.util.zip.ZipCoder
         1        64        64   java.util.zip.ZipFile$Source
         1        24        24   java.util.zip.ZipFile$Source$Key
         1        56        56   java.util.zip.ZipFile$ZipFileInflaterInputStream
         1        48        48   java.util.zip.ZipFile$ZipFileInputStream
         2        16        32   jdk.internal.loader.ClassLoaderValue
         1       112       112   jdk.internal.loader.ClassLoaders$AppClassLoader
         1       104       104   jdk.internal.loader.ClassLoaders$BootClassLoader
         1       104       104   jdk.internal.loader.ClassLoaders$PlatformClassLoader
         1        40        40   jdk.internal.loader.URLClassPath
         1        48        48   jdk.internal.loader.URLClassPath$JarLoader
         1        24        24   jdk.internal.module.ModuleHashes
        75        56      4200   jdk.internal.module.ModuleReferenceImpl
         1        16        16   jdk.internal.module.ModuleResolution
         1        16        16   jdk.internal.module.ModuleTarget
         2        16        32   jdk.internal.module.ServicesCatalog
       123        24      2952   jdk.internal.module.ServicesCatalog$ServiceProvider
         1        24        24   jdk.internal.module.SystemModuleFinder
        75        24      1800   jdk.internal.module.SystemModuleFinder$1
        64        24      1536   jdk.internal.module.SystemModuleFinder$2
        56        24      1344   jdk.internal.module.SystemModuleFinder$ImageModuleReader
         5        16        80   jdk.internal.reflect.DelegatingConstructorAccessorImpl
         3        16        48   jdk.internal.reflect.DelegatingMethodAccessorImpl
         5        24       120   jdk.internal.reflect.NativeConstructorAccessorImpl
         3        24        72   jdk.internal.reflect.NativeMethodAccessorImpl
        62        32      1984   jdk.internal.reflect.UnsafeObjectFieldAccessorImpl
        95        32      3040   jdk.internal.reflect.UnsafeQualifiedObjectFieldAccessorImpl
         2        40        80   jdk.internal.reflect.UnsafeQualifiedStaticLongFieldAccessorImpl
         3        40       120   jdk.internal.reflect.UnsafeQualifiedStaticObjectFieldAccessorImpl
        26        32       832   jdk.internal.reflect.UnsafeStaticObjectFieldAccessorImpl
         4        48       192   sun.invoke.util.Wrapper
         1        16        16   sun.net.www.protocol.file.Handler
         1        16        16   sun.net.www.protocol.jar.Handler
         1        16        16   sun.net.www.protocol.jrt.Handler
         1        24        24   sun.nio.cs.UTF_8
         1        56        56   sun.nio.cs.UTF_8$Encoder
         2        32        64   sun.nio.fs.LinuxFileSystem
         2        16        32   sun.nio.fs.LinuxFileSystemProvider
         1       128       128   sun.nio.fs.UnixFileAttributes
         1        16        16   sun.nio.fs.UnixFileAttributes$UnixAsBasicFileAttributes
         4        32       128   sun.nio.fs.UnixPath
        19        24       456   sun.reflect.annotation.AnnotationInvocationHandler
         1        32        32   sun.reflect.annotation.AnnotationType
         2        24        48   sun.reflect.generics.factory.CoreReflectionFactory
         3        32        96   sun.reflect.generics.reflectiveObjects.TypeVariableImpl
         2        32        64   sun.reflect.generics.repository.ClassRepository
         2        24        48   sun.reflect.generics.scope.ClassScope
         2        24        48   sun.reflect.generics.tree.ClassSignature
         6        16        96   sun.reflect.generics.tree.ClassTypeSignature
         3        24        72   sun.reflect.generics.tree.FormalTypeParameter
         6        24       144   sun.reflect.generics.tree.SimpleClassTypeSignature
         1        16        16   sun.reflect.generics.tree.TypeVariableSignature
     18659              789456   (total)


Difference between MHs pointing to same method:
 footprint:
     COUNT       AVG       SUM   DESCRIPTION
         1        32        32   java.lang.invoke.DirectMethodHandle
         1                  32   (total)


Difference between MHs pointing to diff methods:
 footprint:
     COUNT       AVG       SUM   DESCRIPTION
         1        32        32   java.lang.invoke.DirectMethodHandle
         1        48        48   java.lang.invoke.MemberName
         2                  80   (total)


=== After lots of invokes: 

Single MH:
java.lang.invoke.DirectMethodHandle@d70c109d footprint:
     COUNT       AVG       SUM   DESCRIPTION
      3744        50    187568   [B
       134        39      5280   [I
         1        16        16   [J
       430        31     13744   [Ljava.lang.Class;
         2       144       288   [Ljava.lang.ClassValue$Entry;
       425        79     33928   [Ljava.lang.Object;
         1        24        24   [Ljava.lang.String;
         1        32        32   [Ljava.lang.annotation.RetentionPolicy;
        27        40      1080   [Ljava.lang.invoke.BoundMethodHandle$SpeciesData;
        27        52      1408   [Ljava.lang.invoke.LambdaForm$BasicType;
        86        50      4344   [Ljava.lang.invoke.LambdaForm$Name;
        27        52      1408   [Ljava.lang.invoke.LambdaForm$NamedFunction;
        63        37      2344   [Ljava.lang.invoke.MethodHandle;
       124        64      7936   [Ljava.lang.ref.SoftReference;
         8        24       192   [Ljava.lang.reflect.Constructor;
       106        54      5792   [Ljava.lang.reflect.Field;
        26        53      1384   [Ljava.lang.reflect.Method;
         2        24        48   [Ljava.lang.reflect.TypeVariable;
         7        16       112   [Ljava.security.Principal;
         1        16        16   [Ljava.security.cert.Certificate;
       343       101     34656   [Ljava.util.HashMap$Node;
         1        64        64   [Ljava.util.Hashtable$Entry;
         3        80       240   [Ljava.util.WeakHashMap$Entry;
        27       217      5872   [Ljava.util.concurrent.ConcurrentHashMap$Node;
         2        20        40   [Lsun.reflect.generics.tree.ClassTypeSignature;
         3        24        72   [Lsun.reflect.generics.tree.FieldTypeSignature;
         2        24        48   [Lsun.reflect.generics.tree.FormalTypeParameter;
         6        17       104   [Lsun.reflect.generics.tree.TypeArgument;
        19        16       304   com.sun.proxy.jdk.proxy1.$Proxy2
         1        32        32   java.io.File
         1        24        24   java.io.File$PathStatus
         1        32        32   java.io.FileDescriptor
         1        40        40   java.io.FilePermission
         1        24        24   java.io.FilePermissionCollection
         1        32        32   java.io.RandomAccessFile
       340       104     35360   java.lang.Class
        54        24      1296   java.lang.Class$AnnotationData
       112        56      6272   java.lang.Class$ReflectionData
         1        40        40   java.lang.ClassLoader$NativeLibrary
         2        64       128   java.lang.ClassValue$ClassValueMap
         3        32        96   java.lang.ClassValue$Entry
         1        16        16   java.lang.ClassValue$Identity
         1        24        24   java.lang.ClassValue$Version
         1        16        16   java.lang.Integer
        61        56      3416   java.lang.Module
         2        40        80   java.lang.ModuleLayer
        10        24       240   java.lang.NamedPackage
       352        16      5632   java.lang.Object
         5        32       160   java.lang.Package
         1        40        40   java.lang.Package$VersionInfo
         1        32        32   java.lang.Runtime$Version
         7        24       168   java.lang.RuntimePermission
      3585        24     86040   java.lang.String
         3        24        72   java.lang.annotation.RetentionPolicy
        27        40      1080   java.lang.invoke.BoundMethodHandle$SpeciesData
         1        32        32   java.lang.invoke.BoundMethodHandle$Species_L
        39        32      1248   java.lang.invoke.DirectMethodHandle
       230        40      9200   java.lang.invoke.DirectMethodHandle$Accessor
         9        24       216   java.lang.invoke.Invokers
        86        48      4128   java.lang.invoke.LambdaForm
         4        32       128   java.lang.invoke.LambdaForm$BasicType
        13        32       416   java.lang.invoke.LambdaForm$Kind
       279        32      8928   java.lang.invoke.LambdaForm$Name
       324        32     10368   java.lang.invoke.LambdaForm$NamedFunction
         7        56       392   java.lang.invoke.LambdaFormEditor$Transform
       421        48     20208   java.lang.invoke.MemberName
         2        24        48   java.lang.invoke.MethodHandleImpl$Intrinsic
         1        40        40   java.lang.invoke.MethodHandleImpl$IntrinsicMethodHandle
       185        40      7400   java.lang.invoke.MethodType
        62        56      3472   java.lang.invoke.MethodTypeForm
         1        24        24   java.lang.invoke.StringConcatFactory$Stringifiers$StringifierMost
         2        40        80   java.lang.module.Configuration
        75        64      4800   java.lang.module.ModuleDescriptor
       493        24     11832   java.lang.module.ModuleDescriptor$Exports
        15        24       360   java.lang.module.ModuleDescriptor$Opens
        68        24      1632   java.lang.module.ModuleDescriptor$Provides
       232        32      7424   java.lang.module.ModuleDescriptor$Requires
         2        24        48   java.lang.module.ModuleDescriptor$Requires$Modifier
         1        32        32   java.lang.module.ModuleDescriptor$Version
        56        24      1344   java.lang.module.ResolvedModule
         3        32        96   java.lang.ref.ReferenceQueue
         4        16        64   java.lang.ref.ReferenceQueue$Lock
         1        32        32   java.lang.ref.ReferenceQueue$Null
       201        40      8040   java.lang.ref.SoftReference
        14        80      1120   java.lang.reflect.Constructor
      1166        72     83952   java.lang.reflect.Field
       200        88     17600   java.lang.reflect.Method
        75        80      6000   java.net.URI
         5        64       320   java.net.URL
         1        16        16   java.nio.charset.CodingErrorAction
         4        32       128   java.security.BasicPermissionCollection
         7        40       280   java.security.CodeSource
         4        32       128   java.security.Permissions
         7        40       280   java.security.ProtectionDomain
         7        16       112   java.security.ProtectionDomain$Key
         4        16        64   java.security.SecureClassLoader$CodeSourceKey
         1        24        24   java.util.ArrayDeque
        12        24       288   java.util.ArrayList
         1        16        16   java.util.Collections$EmptyList
         1        24        24   java.util.Collections$EmptyMap
         1        16        16   java.util.Collections$EmptySet
         1        32        32   java.util.Collections$UnmodifiableMap
         1        24        24   java.util.Collections$UnmodifiableRandomAccessList
         1        16        16   java.util.Collections$UnmodifiableSet
       340        48     16320   java.util.HashMap
        58        16       928   java.util.HashMap$KeySet
      1672        32     53504   java.util.HashMap$Node
         2        16        32   java.util.HashMap$Values
       228        16      3648   java.util.HashSet
         1        48        48   java.util.Hashtable
         1        16        16   java.util.ImmutableCollections$List0
        48        24      1152   java.util.ImmutableCollections$List1
         8        24       192   java.util.ImmutableCollections$List2
        14        24       336   java.util.ImmutableCollections$ListN
         2        32        64   java.util.ImmutableCollections$MapN
         1        16        16   java.util.ImmutableCollections$Set0
       147        16      2352   java.util.ImmutableCollections$Set1
        67        24      1608   java.util.ImmutableCollections$Set2
       148        24      3552   java.util.ImmutableCollections$SetN
        39        56      2184   java.util.LinkedHashMap
        25        40      1000   java.util.LinkedHashMap$Entry
         1        16        16   java.util.Optional
         1        32        32   java.util.Stack
         6        32       192   java.util.Vector
         1        48        48   java.util.WeakHashMap
         3        40       120   java.util.WeakHashMap$Entry
        32        64      2048   java.util.concurrent.ConcurrentHashMap
       518        32     16576   java.util.concurrent.ConcurrentHashMap$Node
         3        16        48   java.util.concurrent.ConcurrentHashMap$ValuesView
        50        24      1200   java.util.concurrent.CopyOnWriteArrayList
         1        16        16   java.util.concurrent.atomic.AtomicBoolean
         1        16        16   java.util.jar.Attributes
         6        24       144   java.util.jar.Attributes$Name
         1        72        72   java.util.jar.JarFile
         1        96        96   java.util.jar.JarFile$JarFileEntry
         1        24        24   java.util.jar.Manifest
         2        48        96   java.util.zip.Inflater
         2        24        48   java.util.zip.ZStreamRef
         1        32        32   java.util.zip.ZipCoder
         1        64        64   java.util.zip.ZipFile$Source
         1        24        24   java.util.zip.ZipFile$Source$Key
         1        56        56   java.util.zip.ZipFile$ZipFileInflaterInputStream
         1        48        48   java.util.zip.ZipFile$ZipFileInputStream
         2        16        32   jdk.internal.loader.ClassLoaderValue
         1       112       112   jdk.internal.loader.ClassLoaders$AppClassLoader
         1       104       104   jdk.internal.loader.ClassLoaders$BootClassLoader
         1       104       104   jdk.internal.loader.ClassLoaders$PlatformClassLoader
         1        40        40   jdk.internal.loader.URLClassPath
         1        48        48   jdk.internal.loader.URLClassPath$JarLoader
         1        24        24   jdk.internal.module.ModuleHashes
        75        56      4200   jdk.internal.module.ModuleReferenceImpl
         1        16        16   jdk.internal.module.ModuleResolution
         1        16        16   jdk.internal.module.ModuleTarget
         2        16        32   jdk.internal.module.ServicesCatalog
       123        24      2952   jdk.internal.module.ServicesCatalog$ServiceProvider
         1        24        24   jdk.internal.module.SystemModuleFinder
        75        24      1800   jdk.internal.module.SystemModuleFinder$1
        64        24      1536   jdk.internal.module.SystemModuleFinder$2
        56        24      1344   jdk.internal.module.SystemModuleFinder$ImageModuleReader
         5        16        80   jdk.internal.reflect.DelegatingConstructorAccessorImpl
         3        16        48   jdk.internal.reflect.DelegatingMethodAccessorImpl
         5        24       120   jdk.internal.reflect.NativeConstructorAccessorImpl
         3        24        72   jdk.internal.reflect.NativeMethodAccessorImpl
        62        32      1984   jdk.internal.reflect.UnsafeObjectFieldAccessorImpl
        95        32      3040   jdk.internal.reflect.UnsafeQualifiedObjectFieldAccessorImpl
         2        40        80   jdk.internal.reflect.UnsafeQualifiedStaticLongFieldAccessorImpl
         3        40       120   jdk.internal.reflect.UnsafeQualifiedStaticObjectFieldAccessorImpl
        26        32       832   jdk.internal.reflect.UnsafeStaticObjectFieldAccessorImpl
         4        48       192   sun.invoke.util.Wrapper
         1        16        16   sun.net.www.protocol.file.Handler
         1        16        16   sun.net.www.protocol.jar.Handler
         1        16        16   sun.net.www.protocol.jrt.Handler
         1        24        24   sun.nio.cs.UTF_8
         1        56        56   sun.nio.cs.UTF_8$Encoder
         2        32        64   sun.nio.fs.LinuxFileSystem
         2        16        32   sun.nio.fs.LinuxFileSystemProvider
         1       128       128   sun.nio.fs.UnixFileAttributes
         1        16        16   sun.nio.fs.UnixFileAttributes$UnixAsBasicFileAttributes
         4        32       128   sun.nio.fs.UnixPath
        19        24       456   sun.reflect.annotation.AnnotationInvocationHandler
         1        32        32   sun.reflect.annotation.AnnotationType
         2        24        48   sun.reflect.generics.factory.CoreReflectionFactory
         3        32        96   sun.reflect.generics.reflectiveObjects.TypeVariableImpl
         2        32        64   sun.reflect.generics.repository.ClassRepository
         2        24        48   sun.reflect.generics.scope.ClassScope
         2        24        48   sun.reflect.generics.tree.ClassSignature
         6        16        96   sun.reflect.generics.tree.ClassTypeSignature
         3        24        72   sun.reflect.generics.tree.FormalTypeParameter
         6        24       144   sun.reflect.generics.tree.SimpleClassTypeSignature
         1        16        16   sun.reflect.generics.tree.TypeVariableSignature
     18665              789744   (total)


Difference between MHs pointing to same method:
 footprint:
     COUNT       AVG       SUM   DESCRIPTION
         1        32        32   [B
         1        32        32   [Ljava.lang.invoke.LambdaForm$Name;
         1       104       104   java.lang.Class
         1        24        24   java.lang.String
         1        32        32   java.lang.invoke.DirectMethodHandle
         1        48        48   java.lang.invoke.LambdaForm
         1        48        48   java.lang.invoke.MemberName
         7                 320   (total)


Difference between MHs pointing to diff methods:
 footprint:
     COUNT       AVG       SUM   DESCRIPTION
         1        32        32   [B
         1        32        32   [Ljava.lang.invoke.LambdaForm$Name;
         1       104       104   java.lang.Class
         1        24        24   java.lang.String
         1        32        32   java.lang.invoke.DirectMethodHandle
         1        48        48   java.lang.invoke.LambdaForm
         2        48        96   java.lang.invoke.MemberName
         8                 368   (total)


